var W=Object.defineProperty,G=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var M=(r,t,n)=>t in r?W(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,p=(r,t)=>{for(var n in t||(t={}))Z.call(t,n)&&M(r,n,t[n]);if(E)for(var n of E(t))K.call(t,n)&&M(r,n,t[n]);return r},k=(r,t)=>G(r,H(t));import{j as e,r as u,u as V,a as C,b as a,G as J,M as I,I as O,L as P,c as U,l as j,d as w,N as X,e as ee,F as b,C as R,f as te,g as L,h as _,i as S,k as re,m as ae,Q as ne,n as le,P as ie,o as se,B as oe,R as ce,p as x,q as de}from"./vendor.dd62d812.js";const he=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};he();const v=r=>e("a",{href:r.link,children:e("button",{className:"h-full w-full whitespace-nowrap rounded-md border border-white text-[80%] text-white duration-200 hover:bg-white hover:text-red",children:r.children})});function N(r,t){return r.facets.find(n=>n.type===t).val}const B=({center:r,centerName:t})=>{const[n,i]=u.exports.useState(20),[s,l]=u.exports.useState(n*1e3),[c,d]=u.exports.useState(null),{isLoaded:h,loadError:f}=V({googleMapsApiKey:{}.VITE_GOOGLE_MAPS_API_KEY}),{data:g,error:Y,isLoading:T,isError:z}=C(["attraction",r.lng,r.lat,s],async()=>{const o=j.stringify({lng:r.lng,lat:r.lat,searchRadius:s});return(await w.get(`/api/attractions/near?${o}`)).data},{keepPreviousData:!0}),Q=o=>{let m=o.target.value;m>300&&(m=300),m<0&&(m=0),i(m),l(m*1e3)};return f?e("div",{children:"Map cannot be loaded right now, sorry."}):z?a("span",{children:["Error: ",Y.message]}):a("div",{className:"flex w-full flex-col lg:flex-row",children:[e("div",{className:"aspect-square lg:w-full",children:h&&a(J,{mapContainerStyle:{width:"100%",height:"100%"},center:r,zoom:11,clickableIcons:!1,children:[e(I,{position:r,onClick:()=>d("center"),animation:google.maps.Animation.DROP,children:c==="center"&&e(O,{onCloseClick:()=>d(null),children:e("div",{children:t})})}),!T&&g.map(o=>e(I,{position:{lat:o.coordinates[1],lng:o.coordinates[0]},onClick:()=>d(o),title:o.attraction_name,children:c===o&&e(O,{onCloseClick:()=>d(null),children:a("div",{children:[e("span",{className:"font-medium",children:o.attraction_name}),e("br",{}),o.address,e("br",{}),N(o,"city"),", ",o.state,"\xA0",o.zip,e("br",{}),e(P,{className:"font-normal text-blue-600 hover:underline",to:`/attractions/${o.attraction_id}`,target:"_blank",children:"Details"})]})})},o.attraction_id))]})}),a("div",{className:"relative aspect-square h-full bg-red lg:w-full",children:[a("div",{className:"flex w-full items-center gap-4 p-6",children:[e(U,{min:0,max:300,value:n,onChange:o=>i(o),onAfterChange:()=>l(n*1e3),railStyle:{backgroundColor:"black",height:3,marginTop:1},trackStyle:{backgroundColor:"gold",marginLeft:-1},handleStyle:{height:15,width:15,borderRadius:"50%",borderColor:"gold",backgroundColor:"gold",boxShadow:"none"}}),a("label",{className:"flex rounded bg-white",children:[e("input",{className:"w-8 rounded py-1 text-right",type:"number",min:0,max:300,value:n,onChange:Q}),e("span",{className:"p-1",children:"km"})]})]}),e("button",{className:"absolute bottom-6 left-6 rounded border border-white p-4 font-light text-white duration-200 hover:bg-white hover:text-red",onClick:()=>d("center"),children:"Center"})]})]})},A=r=>e("li",{className:"inline",children:e(X,{className:"text-xl text-black duration-200 hover:text-gold hover:ease-in",to:r.path,children:r.children})}),y=()=>{const[r,t]=u.exports.useState(window.scrollY);u.exports.useState(!1);const n=()=>{window.scrollY>r?console.log("down"):console.log("up"),t(window.scrollY)};return u.exports.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("scroll",n)}),[r]),e("nav",{className:"fixed top-0 left-0 z-10 flex h-12 w-screen flex-row-reverse bg-gold",children:a("ul",{className:"flex gap-4 self-center pr-8",children:[e(A,{path:"/attractions",children:"Attractions"}),e(A,{path:"/map",children:"Map"}),e(A,{path:"/help",children:"Help"})]})})};var D="/assets/none.696a83ed.png";const ue=()=>{const r=ee().id,{data:t,error:n,isLoading:i,isError:s}=C(["attraction",r],async()=>(await w.get(`/api/attractions/${r}`)).data),l=()=>({__html:`<ul class="w-full indent-4 truncate"><li>${t.amenities.join("</li><li>")}</li></ul>`});return i?null:s?a("span",{children:["Error: ",n.message]}):a(b,{children:[e(y,{}),e("div",{className:"content-body-container",children:a("div",{className:"flex flex-col",children:[e("h1",{className:"page-title",children:t.attraction_name}),a("div",{className:"grid grid-rows-6 font-poppins lg:grid-cols-3 lg:grid-rows-2",children:[a("div",{className:"flex aspect-square flex-col overflow-y-auto bg-gold px-[8%] py-[4%]",children:[e("h2",{className:"mb-2 text-2xl",children:"Description"}),t.description]}),a("div",{className:"flex flex-col bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Website & Contact"}),a("div",{className:"grid h-full grid-cols-2 grid-rows-4 gap-4 text-center",children:[t.website_link&&e(v,{link:t.website_link,detail:!0,children:"Website"}),t.mailto_link&&e(v,{link:t.mailto_link,detail:!0,children:"Email"}),t.phone_number&&a(v,{link:`tel:${t.phone_number}`,detail:!0,children:["Phone",e("br",{}),t.phone_number]}),t.fax&&a(v,{link:`tel:${t.fax}`,detail:!0,children:["Fax",e("br",{}),t.fax]})]})]}),e("img",{className:"aspect-square w-full object-fill",src:t.attraction_image.includes("data")?D:t.attraction_image,alt:""}),a("div",{className:"flex w-auto flex-col bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Amenities"}),t.amenities?e("div",{dangerouslySetInnerHTML:l()}):e("p",{children:"No amenities listed"})]}),a("div",{className:"flex flex-col bg-gold px-[8%] py-[4%]",children:[e("h2",{className:"mb-2 text-2xl",children:"Location"}),t.address,e("br",{}),N(t,"city"),", ",t.state,"\xA0",t.zip,e("br",{}),e("a",{className:"text-white underline decoration-red decoration-4 underline-offset-4 duration-200 ease-in hover:text-red",href:t.directions_link,children:"Directions"})]}),a("div",{className:"bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Region"}),e("h3",{className:"text-lg",children:N(t,"region")}),t.region_image&&e("img",{className:"w-full",src:t.region_image,alt:""})]})]}),e(B,{center:{lat:t.coordinates[1],lng:t.coordinates[0]},centerName:`${t.attraction_name} (current)`})]})})]})},ge=r=>a(R,k(p({viewBox:"0 0 400 288",preserveAspectRatio:"none"},r),{children:[e("rect",{x:"0",y:"0",width:"400",height:"69"}),e("rect",{x:"0",y:"73",width:"400",height:"69"}),e("rect",{x:"0",y:"146",width:"400",height:"69"}),e("rect",{x:"0",y:"219",width:"400",height:"69"})]})),me={region:[],city:[],category:[],amenity:[]},{reducer:fe,actions:pe}=te({name:"filters",initialState:me,reducers:{add:(r,{payload:{category:t,filter:n}})=>{r[t].push(n),r[t].sort()},remove:(r,{payload:{category:t,filter:n}})=>{r[t]=r[t].filter(i=>i!==n)},reset:r=>{}}}),{add:xe,remove:q,reset:Fe}=pe,be=r=>{const t=L(),n=i=>{t(i?xe({category:r.category,filter:r.filter}):q({category:r.category,filter:r.filter}))};return e("li",{children:a("label",{className:"inline-flex w-full items-center truncate text-lg",children:[e("input",{className:"mr-1 h-4 w-4 flex-shrink-0 cursor-pointer appearance-none rounded-sm border-2 bg-black transition-colors checked:bg-gold",type:"checkbox",onChange:i=>n(i.target.checked),checked:r.checked}),r.filter]})})};var we="/assets/arrow.c2ec9702.png";const F=["CITY","CATEGORY","AMENITY"],$=r=>{const[t,n]=u.exports.useState(!1);return a("div",{children:[a("div",{className:"flex h-14 w-full cursor-pointer select-none items-center justify-between rounded bg-gold px-4",onClick:()=>n(!t),children:[e("h2",{className:"font-raleway text-lg font-semibold",children:r.header}),e("img",{className:_("h-6 w-6 transition-transform duration-500 ease-[cubic-bezier(.84,-0.08,.16,1.08)]",{"rotate-180":t}),src:we,alt:""})]}),e("ul",{className:_("mx-4 font-raleway text-base text-gold duration-500 ease-[cubic-bezier(.84,-0.08,.16,1.08)]",{"max-h-0":!t},{"my-2 max-h-48":t},{"overflow-y-auto":F.some(i=>i===r.header)},{"overflow-y-hidden":!F.some(i=>i===r.header)}),children:r.children})]})},ve=["region","city","category","amenity"],Ne=()=>{const r=S(l=>l.filters),{data:t,error:n,isLoading:i,isError:s}=C(["filters"],async()=>{let l={};for(const c of ve){const d=await w.get(`/api/filters/${c}`);l=p(p({},l),d.data)}return l});return s?a("span",{children:["Error: ",n.message]}):e("div",{className:_("flex flex-col gap-1 rounded-md border-4",{"border-transparent":i},{"border-black bg-black":!i}),children:i?e(ge,{width:"100%",height:"220px"}):Object.entries(t).map(([l,c])=>e($,{header:l.toUpperCase(),children:c.map(d=>e(be,{category:l,filter:d,checked:r[l].includes(d)},d))},l))})},ye=r=>{const t=L();return a("div",{className:"flex h-16 max-w-full gap-1 rounded-md border-4 bg-black",children:[e("div",{className:"flex items-center overflow-hidden rounded-l bg-gold px-4 font-raleway text-lg focus:brightness-90",type:"text",onChange:n=>setText(n.target.value),children:e("span",{className:"truncate",children:r.filter})}),e("button",{className:"group aspect-square h-full rounded-r text-gold duration-200 hover:bg-gold active:brightness-50",onClick:()=>t(q({category:r.category,filter:r.filter})),children:a("svg",{className:"mx-auto h-1/2 w-1/2 fill-gold duration-200 group-hover:fill-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:[e("path",{d:"M13.854 2.146a.5.5 0 0 1 0 .708l-11 11a.5.5 0 0 1-.708-.708l11-11a.5.5 0 0 1 .708 0Z"}),e("path",{d:"M2.146 2.146a.5.5 0 0 0 0 .708l11 11a.5.5 0 0 0 .708-.708l-11-11a.5.5 0 0 0-.708 0Z"})]})})]})},ke=()=>{const r=S(t=>t.filters);return e("div",{className:"my-1 flex flex-wrap gap-1",children:Object.entries(r).map(([t,n])=>n.map(i=>e(ye,{category:t,filter:i},i)))})};var Ce="/assets/crab.ab07035c.jpg";const Pe=({data:r})=>e("div",{className:"group relative font-poppins",children:a(P,{to:`/attractions/${r.attraction_id}`,children:[e("img",{className:"aspect-square w-full rounded-2xl object-cover shadow-md shadow-black duration-200 group-hover:shadow-none group-hover:brightness-50",src:r.attraction_image.includes("data")?D:r.attraction_image,alt:""}),a("div",{className:"absolute bottom-0 flex h-24 w-full flex-col rounded-2xl bg-black bg-opacity-90 p-4 text-center text-gold duration-200 group-hover:h-full group-hover:bg-transparent",children:[e("div",{className:"my-auto truncate text-xl font-medium duration-200 group-hover:whitespace-normal",children:r.attraction_name}),e("span",{children:N(r,"city")})]})]})}),Le=r=>a(R,k(p({viewBox:"0 0 300 300"},r),{children:[e("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"300",height:"240"}),e("rect",{x:"0",y:"250",rx:"5",ry:"5",width:"300",height:"20"}),e("rect",{x:"0",y:"280",rx:"5",ry:"5",width:"300",height:"20"})]})),_e=()=>{const r=S(h=>h.filters),{data:t,error:n,isLoading:i,isError:s,hasNextPage:l,fetchNextPage:c}=re(["attractions",r],async({pageParam:h=0})=>{const f=j.stringify(p({page:h},r)),g=await w.get(`/api/attractions?${f}`);return{docs:g.data.previewData,nextPage:g.data.nextPage}},{getNextPageParam:h=>h.nextPage,keepPreviousData:!0}),d=()=>{if(i)return[...Array(8)].map((f,g)=>e(Le,{},g));const h=t.pages.map(f=>f.docs.map(g=>e(Pe,{data:g},g.attraction_id))).flat(1);return h.length===0?e("div",{className:"col-span-2",children:a("label",{className:"mx-auto block w-full rounded-2xl bg-[#f6f6f6] p-4 text-center font-poppins",children:[e("img",{className:"mx-auto w-1/2",src:Ce}),"Nothing Matched!"]})}):h};return s?a("span",{children:["Error: ",n.message]}):a(b,{children:[e("div",{className:"grid w-full gap-12 sm:grid-cols-2",children:d()}),l&&e("button",{className:"mt-8 rounded-md bg-red p-4 text-white shadow-md duration-200 hover:brightness-125",onClick:c,children:"Load More"})]})},Se=()=>{const[r,t]=u.exports.useState("");return L(),a("div",{className:"my-1 flex h-16 w-full gap-1 rounded-md border-4 bg-black",children:[e("input",{className:"w-full rounded-l bg-gold pl-4 font-raleway text-lg outline-none focus:brightness-90",type:"text",onChange:n=>t(n.target.value)}),e("button",{className:"group aspect-square h-full rounded-r text-gold duration-200 hover:bg-gold active:brightness-50",children:e("svg",{className:"mx-auto h-1/2 w-1/2 fill-gold duration-200 group-hover:fill-black",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 50 50",width:"50px",height:"50px",children:e("path",{d:"M 21 3 C 11.621094 3 4 10.621094 4 20 C 4 29.378906 11.621094 37 21 37 C 24.710938 37 28.140625 35.804688 30.9375 33.78125 L 44.09375 46.90625 L 46.90625 44.09375 L 33.90625 31.0625 C 36.460938 28.085938 38 24.222656 38 20 C 38 10.621094 30.378906 3 21 3 Z M 21 5 C 29.296875 5 36 11.703125 36 20 C 36 28.296875 29.296875 35 21 35 C 12.703125 35 6 28.296875 6 20 C 6 11.703125 12.703125 5 21 5 Z"})})})]})},Ae=()=>a(b,{children:[e(y,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Attractions"}),a("div",{className:"flex w-full flex-col gap-12 xl:flex-row",children:[a("div",{className:"inline-block w-full xl:w-1/3",children:[e(Se,{}),e(Ne,{}),e(ke,{})]}),e("div",{className:"flex w-full flex-col items-center xl:w-2/3",children:e(_e,{})})]})]})]}),Ee=()=>a(b,{children:[e(y,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Help"}),e("h2",{className:"pb-4 text-3xl",children:"FAQ"}),e("div",{className:"flex flex-col gap-1 rounded-md border-4 bg-black",children:e($,{header:"currently under construction :D",children:"content"})}),e("h3",{children:"Where is the data collected from?"}),a("p",{children:["All data was scraped from\xA0",e("a",{href:"https://www.visitmaryland.org/things-to-do/attractions",children:"here"}),"\xA0using Puppeteer."]}),e("h3",{children:"Where can I find the source code?"}),a("p",{children:["The source code can be found\xA0",e("a",{href:"https://github.com/alexbluo/jsfbla21",children:"here"}),"."]}),e("div",{className:"flex w-full justify-center",children:e("a",{href:"mailto:alexluo92823@gmail.com",children:e("button",{className:"rounded-md bg-red p-4 text-white hover:brightness-75",children:"Contact Me"})})})]})]}),Me=()=>e("div",{className:"h-screen w-screen bg-gradient-to-br from-gold to-red",children:a("div",{className:"fixed z-10 flex h-full w-full flex-col items-center justify-center",children:[e("h1",{className:"mb-6 animate-fade-in-down select-none bg-[url('images/flag.gif')] bg-clip-text bg-top py-1 font-montserrat text-5xl font-[1000] text-transparent opacity-90",children:"Maryland Attractions Searcher"}),e(P,{to:"/attractions",children:e("button",{className:"animate-fade-in-up rounded-md bg-red px-4 py-2 text-white shadow-md duration-200 hover:shadow-white",children:"Enter"})})]})}),Ie=()=>e("div",{className:"",children:e("p",{children:"Error 404: nothing here goofy"})}),Oe=()=>{const[r,t]=u.exports.useState(void 0);return u.exports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(n=>{const i={lat:n.coords.latitude,lng:n.coords.longitude};t(i)})},[]),a(b,{children:[e(y,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Map"}),r&&e(B,{center:r,centerName:"You"})]})]})},je=ae({reducer:{filters:fe}});const Re=new ne({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Be=le(document.getElementById("root"));Be.render(e(ie,{store:je,children:a(se,{client:Re,children:[e(oe,{children:a(ce,{children:[e(x,{exact:!0,path:"/",element:e(Me,{})}),e(x,{exact:!0,path:"/attractions",element:e(Ae,{})}),e(x,{exact:!0,path:"/attractions/:id",element:e(ue,{})}),e(x,{exact:!0,path:"/map",element:e(Oe,{})}),e(x,{exact:!0,path:"/help",element:e(Ee,{})}),e(x,{path:"*",element:e(Ie,{})})]})}),e(de.exports.ReactQueryDevtools,{initialIsOpen:!1})]})}));
