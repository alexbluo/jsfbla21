var z=Object.defineProperty,Q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var S=(r,t,n)=>t in r?z(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,g=(r,t)=>{for(var n in t||(t={}))H.call(t,n)&&S(r,n,t[n]);if(L)for(var n of L(t))W.call(t,n)&&S(r,n,t[n]);return r},k=(r,t)=>Q(r,G(t));import{j as e,r as p,u as Y,a as C,b as a,G as U,M,I,L as P,c as J,l as E,d as b,N as K,e as V,F as w,C as j,f as X,g as Z,h as _,i as ee,k as te,m as re,Q as ae,n as ne,P as ie,o as le,B as oe,R as se,p as x,q as ce}from"./vendor.e4e728fd.js";const de=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};de();function v(r){return e("a",{href:r.link,children:e("button",{className:"h-full w-full whitespace-nowrap text-[80%] rounded-md border border-white text-white duration-200 hover:bg-white hover:text-red",children:r.children})})}function y(r,t){return r.facets.find(n=>n.type===t).val}function R({center:r,centerName:t}){const[n,l]=p.exports.useState(20),[i,o]=p.exports.useState(n*1e3),[c,h]=p.exports.useState(null),{isLoaded:d,loadError:f}=Y({googleMapsApiKey:"AIzaSyATCG2NwCqH_IUuyZeIJhU9XdwM07TGoog"}),{data:u,error:q,isLoading:F,isError:B}=C(["attraction",r.lng,r.lat,i],async()=>{const s=E.stringify({lng:r.lng,lat:r.lat,searchRadius:i});return(await b.get(`/api/attractions/near?${s}`)).data},{keepPreviousData:!0});function T(s){let m=s.target.value;m>300&&(m=300),m<0&&(m=0),l(m),o(m*1e3)}return f?e("div",{children:"Map cannot be loaded right now, sorry."}):B?a("span",{children:["Error: ",q.message]}):a("div",{className:"flex w-full flex-col lg:flex-row",children:[e("div",{className:"aspect-square lg:w-full",children:d&&a(U,{mapContainerStyle:{width:"100%",height:"100%"},center:r,zoom:11,clickableIcons:!1,children:[e(M,{position:r,onClick:()=>h("center"),animation:google.maps.Animation.DROP,children:c==="center"&&e(I,{onCloseClick:()=>h(null),children:e("div",{children:t})})}),!F&&u.map(s=>e(M,{position:{lat:s.coordinates[1],lng:s.coordinates[0]},onClick:()=>h(s),title:s.attraction_name,children:c===s&&e(I,{onCloseClick:()=>h(null),children:a("div",{children:[e("span",{className:"font-medium",children:s.attraction_name}),e("br",{}),s.address,e("br",{}),y(s,"city"),", ",s.state,"\xA0",s.zip,e("br",{}),e(P,{className:"font-normal text-blue-600 hover:underline",to:`/attractions/${s.attraction_id}`,target:"_blank",children:"Details"})]})})},s.attraction_id))]})}),a("div",{className:"relative aspect-square h-full bg-red lg:w-full",children:[a("div",{className:"flex w-full items-center gap-4 p-6",children:[e(J,{min:0,max:300,value:n,onChange:s=>l(s),onAfterChange:()=>o(n*1e3),railStyle:{backgroundColor:"black",height:3,marginTop:1},trackStyle:{backgroundColor:"gold",marginLeft:-1},handleStyle:{height:15,width:15,borderRadius:"50%",borderColor:"gold",backgroundColor:"gold",boxShadow:"none"}}),a("label",{className:"flex rounded bg-white",children:[e("input",{className:"w-8 rounded py-1 text-right",type:"number",min:0,max:300,value:n,onChange:T}),e("span",{className:"p-1",children:"km"})]})]}),e("button",{className:"absolute bottom-6 left-6 rounded border border-white p-4 font-light text-white duration-200 hover:bg-white hover:text-red",onClick:()=>h("center"),children:"Center"})]})]})}function A(r){return e("li",{className:"inline",children:e(K,{className:"text-xl text-white duration-200 hover:text-gold hover:ease-in",to:r.path,children:r.children})})}function N(){return e("nav",{className:"fixed top-0 left-0 z-10 flex h-12 w-screen flex-row-reverse bg-red",children:a("ul",{className:"flex gap-4 self-center pr-6",children:[e(A,{path:"/attractions",children:"Attractions"}),e(A,{path:"/map",children:"Map"}),e(A,{path:"/help",children:"Help"})]})})}var D="/assets/noImage.696a83ed.png";function he(){const r=V().id,{data:t,error:n,isLoading:l,isError:i}=C(["attraction",r],async()=>(await b.get(`/api/attractions/${r}`)).data);function o(){return{__html:`<ul class="w-full indent-4 truncate"><li>${t.amenities.join("</li><li>")}</li></ul>`}}return l?null:i?a("span",{children:["Error: ",n.message]}):a(w,{children:[e(N,{}),e("div",{className:"content-body-container",children:a("div",{className:"flex flex-col",children:[e("h1",{className:"page-title",children:t.attraction_name}),a("div",{className:"grid grid-rows-6 font-poppins lg:grid-cols-3 lg:grid-rows-2",children:[a("div",{className:"flex aspect-square flex-col overflow-y-auto bg-gold px-[8%] py-[4%]",children:[e("h2",{className:"mb-2 text-2xl",children:"Description"}),t.description]}),a("div",{className:"flex flex-col bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Website & Contact"}),a("div",{className:"grid h-full grid-cols-2 grid-rows-4 gap-4 text-center",children:[t.website_link&&e(v,{link:t.website_link,detail:!0,children:"Website"}),t.mailto_link&&e(v,{link:t.mailto_link,detail:!0,children:"Email"}),t.phone_number&&a(v,{link:`tel:${t.phone_number}`,detail:!0,children:["Phone",e("br",{}),t.phone_number]}),t.fax&&a(v,{link:`tel:${t.fax}`,detail:!0,children:["Fax",e("br",{}),t.fax]})]})]}),e("img",{className:"aspect-square w-full object-fill",src:t.attraction_image.includes("data")?D:t.attraction_image,alt:""}),a("div",{className:"flex w-auto flex-col bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Amenities"}),t.amenities?e("div",{dangerouslySetInnerHTML:o()}):e("p",{children:"No amenities listed"})]}),a("div",{className:"flex flex-col bg-gold px-[8%] py-[4%]",children:[e("h2",{className:"mb-2 text-2xl",children:"Location"}),t.address,e("br",{}),y(t,"city"),", ",t.state,"\xA0",t.zip,e("br",{}),e("a",{className:"text-white underline decoration-red decoration-4 underline-offset-4 duration-200 ease-in hover:text-red",href:t.directions_link,children:"Directions"})]}),a("div",{className:"bg-red px-[8%] py-[4%] text-white",children:[e("h2",{className:"mb-2 text-2xl",children:"Region"}),e("h3",{className:"text-lg",children:y(t,"region")}),t.region_image&&e("img",{className:"w-full",src:t.region_image,alt:""})]})]}),e(R,{center:{lat:t.coordinates[1],lng:t.coordinates[0]},centerName:`${t.attraction_name} (current)`})]})})]})}function ue(r){return a(j,k(g({viewBox:"0 0 400 288",preserveAspectRatio:"none"},r),{children:[e("rect",{x:"0",y:"0",width:"400",height:"69"}),e("rect",{x:"0",y:"73",width:"400",height:"69"}),e("rect",{x:"0",y:"146",width:"400",height:"69"}),e("rect",{x:"0",y:"219",width:"400",height:"69"})]}))}const me={region:[],city:[],category:[],amenity:[]},{reducer:fe,actions:ge}=X({name:"filters",initialState:me,reducers:{add:(r,{payload:{category:t,field:n}})=>{r[t].push(n)},remove:(r,{payload:{category:t,field:n}})=>{r[t]=r[t].filter(l=>l!==n)},reset:r=>{}}}),{add:pe,remove:xe,reset:De}=ge;function be(r){const t=Z();function n(l){t(l?pe({category:r.category,field:r.field}):xe({category:r.category,field:r.field}))}return e("li",{children:a("label",{className:"inline-flex w-full items-center truncate text-lg",children:[e("input",{className:"mr-1 h-4 w-4 flex-shrink-0 cursor-pointer appearance-none rounded-sm border-2 bg-white transition-colors checked:bg-gold",type:"checkbox",onChange:l=>n(l.target.checked)}),e("span",{children:r.field})]})})}var we="/assets/arrow.c2ec9702.png";const O=["CITY","CATEGORY","AMENITY"];function $(r){const[t,n]=p.exports.useState(!1);return a("div",{className:"bg-black",children:[a("div",{className:"w-full flex cursor-pointer select-none items-center justify-between rounded bg-gold p-3",onClick:()=>n(!t),children:[e("h2",{className:"font-raleway text-lg font-semibold",children:r.header}),e("img",{className:_("h-6 w-6 transition-transform duration-300 ease-out",{"rotate-180":t}),src:we,alt:""})]}),e("ul",{className:_("ease-[cubic-bezier(0.34, 1.56, 0.64, 1)] mx-4 font-raleway text-base text-gold duration-500",{"max-h-0":!t},{"my-4 max-h-48":t},{"overflow-y-auto":O.some(l=>l===r.header)},{"overflow-y-hidden":!O.some(l=>l===r.header)}),children:r.children})]})}const ve=["region","city","category","amenity"];function ye(){const{data:r,error:t,isLoading:n,isError:l}=C(["filters"],async()=>{let i={};for(const o of ve){const c=await b.get(`/api/filters/${o}`);i=g(g({},i),c.data)}return console.log(i),i});return l?a("span",{children:["Error: ",t.message]}):e("div",{className:"inline-block w-full xl:w-1/3",children:e("div",{className:_("flex flex-col gap-1 rounded-md border-4",{"border-transparent":n},{"border-black bg-black":!n}),children:n?e(ue,{width:"100%",height:"220px"}):Object.entries(r).map(([i,o],c)=>e($,{header:i.toUpperCase(),children:o.map((h,d)=>e(be,{category:i,field:h},d))},c))})})}function Ne(r){const t=r.data;return e("div",{className:"group relative",children:a(P,{to:`/attractions/${t.attraction_id}`,children:[e("img",{className:"aspect-square w-full rounded-3xl object-cover shadow-md shadow-black duration-200 group-hover:shadow-none group-hover:brightness-50",src:t.attraction_image.includes("data")?D:t.attraction_image,alt:""}),a("div",{className:"absolute bottom-0 flex h-24 w-full flex-col rounded-3xl bg-black bg-opacity-90 p-4 text-center text-gold duration-200 group-hover:h-full group-hover:bg-transparent",children:[e("div",{className:"my-auto truncate text-xl font-medium duration-200 group-hover:whitespace-normal",children:t.attraction_name}),e("span",{children:y(t,"city")})]})]})})}function ke(r){return a(j,k(g({viewBox:"0 0 300 300"},r),{children:[e("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"300",height:"240"}),e("rect",{x:"0",y:"250",rx:"5",ry:"5",width:"300",height:"20"}),e("rect",{x:"0",y:"280",rx:"5",ry:"5",width:"300",height:"20"})]}))}function Ce(){const r=ee(d=>d.filters),{data:t,error:n,isLoading:l,isError:i,hasNextPage:o,fetchNextPage:c}=te(["attractions",r],async({pageParam:d=0})=>{const f=E.stringify(g({page:d},r)),u=await b.get(`/api/attractions?${f}`);return{docs:u.data.previewData,nextPage:u.data.nextPage}},{getNextPageParam:d=>d.nextPage,keepPreviousData:!0});function h(){if(l)return[...Array(8)].map((f,u)=>e(ke,{},u));const d=t.pages.map(f=>f.docs.map(u=>e(Ne,{data:u},u.attraction_id))).flat(1);return d.length===0?e("span",{className:"col-span-full flex w-full justify-center",children:"Nothing Matched!"}):d}return i?a("span",{children:["Error: ",n.message]}):a("div",{className:"relative flex w-full flex-col items-center xl:w-2/3",children:[e("div",{className:"grid w-full gap-12 sm:grid-cols-2",children:h()}),o&&e("button",{className:"mt-8 rounded-md bg-red px-4 py-2 text-white shadow-md duration-100 hover:brightness-75",onClick:c,children:"Load More"})]})}function Pe(){return a(w,{children:[e(N,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Attractions"}),a("div",{className:"flex w-full flex-col gap-12 xl:flex-row",children:[e(ye,{}),e(Ce,{})]})]})]})}function _e(){return a(w,{children:[e(N,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Help"}),e("h2",{className:"pb-4 text-3xl",children:"FAQ"}),e("div",{className:"flex flex-col gap-1 rounded-md border-4 bg-black",children:e($,{header:"test",children:"content"})}),e("h3",{children:"Where is the data collected from?"}),a("p",{children:["All data was scraped from\xA0",e("a",{href:"https://www.visitmaryland.org/things-to-do/attractions",children:"here"}),"\xA0using Puppeteer."]}),e("h3",{children:"Where can I find the source code?"}),a("p",{children:["The source code can be found\xA0",e("a",{href:"https://github.com/alexbluo/jsfbla21",children:"here"}),"."]}),e("div",{className:"flex w-full justify-center",children:e("a",{href:"mailto:alexluo92823@gmail.com",children:e("button",{className:"rounded-md bg-red p-4 text-white hover:brightness-75",children:"Contact Me"})})})]})]})}function Ae(){return e("div",{className:"h-screen w-screen bg-gradient-to-br from-gold to-red",children:a("div",{className:"fixed z-10 flex h-full w-full flex-col items-center justify-center",children:[e("h1",{className:"mb-6 animate-fade-in-down select-none bg-[url('src/images/MDFlagGIF.gif')] bg-clip-text bg-top py-1 font-montserrat text-5xl font-[1000] text-transparent opacity-90",children:"Maryland Attractions Searcher"}),e(P,{to:"/attractions",children:e("button",{className:"animate-fade-in-up rounded-md bg-red px-4 py-2 text-white shadow-md duration-200 hover:shadow-white",children:"Enter"})})]})})}function Le(){return e("div",{className:"",children:e("p",{children:"Error 404: nothing here goofy"})})}function Se(){const[r,t]=p.exports.useState(void 0);return p.exports.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(n=>{const l={lat:n.coords.latitude,lng:n.coords.longitude};t(l)})},[]),a(w,{children:[e(N,{}),a("div",{className:"content-body-container",children:[e("h1",{className:"page-title",children:"Map"}),r&&e(R,{center:r,centerName:"You"})]})]})}const Me=re({reducer:{filters:fe}});const Ie=new ae({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Ee=ne(document.getElementById("root"));Ee.render(e(ie,{store:Me,children:a(le,{client:Ie,children:[e(oe,{children:a(se,{children:[e(x,{exact:!0,path:"/",element:e(Ae,{})}),e(x,{exact:!0,path:"/attractions",element:e(Pe,{})}),e(x,{exact:!0,path:"/attractions/:id",element:e(he,{})}),e(x,{exact:!0,path:"/map",element:e(Se,{})}),e(x,{exact:!0,path:"/help",element:e(_e,{})}),e(x,{path:"*",element:e(Le,{})})]})}),e(ce.exports.ReactQueryDevtools,{initialIsOpen:!1})]})}));
